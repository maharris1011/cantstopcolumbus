<div class="jumbotron background-white">
    <form name="volunteer" id="volunteer" @submit="checkSubmit" method="post" action="volunteer-success.html" class="needs-validation"  novalidate accept-charset="UTF-8"> 
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="text" id="firstName" v-model="firstName" :class="{ 'is-invalid': submitted && $firstName.$error }" required class="form-control volunteerField " name="firstName"  >
                    <label for="firstName" class="form-control-placeholder">First Name</label>
                    <div class="invalid-feedback" v-if="submitted && !firstName.required">
                        First Name is required
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="text" id="lastName" v-model="lastName" :class="{ 'is-invalid': submitted && $lastName.$error }" required class="form-control volunteerField" name="lastName">
                    <label for="lastName" class="form-control-placeholder">Last Name</label>
                    <div class="invalid-feedback"  v-if="submitted && !firstName.required">
                        Last Name is required
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="email" id="primEmail" v-model="primEmail" :class="{ 'is-invalid': submitted && $primEmail.$error }" required class="form-control volunteerField" name="primEmail" >
                    <label for="primEmail" class="form-control-placeholder">Primary Email</label>
                    <div class="invalid-feedback"  v-if="submitted && !primEmail.required">
                        Email is required
                    </div>
                    <div class="invalid-feedback"  v-if="submitted && !primEmail.invalid">
                        Please type in a valid email
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="tel" id="phone" class="form-control volunteerField"  v-model="phone"  name="phone" >
                    <label for="phone" class="form-control-placeholder">Phone Number</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="url" @blur="urlValid()" id="work"  v-model="work"  class="form-control volunteerField" name="work" >
                    <label for="work" class="form-control-placeholder">Where can people see your work?</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    
                    <input type="url" @blur="urlValid()" id="other"   v-model="other" class="form-control volunteerField" name="other" >
                    <label for="other" class="form-control-placeholder">Anywhere else?</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="text" id="city"  v-model="city"  class="form-control volunteerField" name="city" >
                    <label for="city" class="form-control-placeholder">City</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                        <select class="form-control selectpicker volunteerField" v-model="state"  style="height: calc(3.25rem + 2px)!important" id="state" name="state">
                            <option value="">N/A</option>
                            <option value="AK">Alaska</option>
                            <option value="AL">Alabama</option>
                            <option value="AR">Arkansas</option>
                            <option value="AZ">Arizona</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DC">District of Columbia</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="IA">Iowa</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MD">Maryland</option>
                            <option value="ME">Maine</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MO">Missouri</option>
                            <option value="MS">Mississippi</option>
                            <option value="MT">Montana</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="NE">Nebraska</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NV">Nevada</option>
                            <option value="NY">New York</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VA">Virginia</option>
                            <option value="VT">Vermont</option>
                            <option value="WA">Washington</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WV">West Virginia</option>
                            <option value="WY">Wyoming</option>
                        </select>
                        <label for="state" class="form-control-placeholder stateField ">State</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="url" @blur="urlValid()" id="linkedin"  class="form-control volunteerField" v-model="linkedin" name="linkedin" >
                    <label for="linkedin" class="form-control-placeholder">LinkedIn</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    
                    <input type="url" @blur="urlValid()" id="twitter"  class="form-control volunteerField" v-model="twitter" name="twitter" >
                    <label for="twitter" class="form-control-placeholder">Twitter</label>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <label class="volunteerLabel"  for="passionWork">Are there any types of problems you're particularly passionate about solving?</label>
                    <br>
                    <button type="button" id="passionWorkButton" @click="openPassionList()" class="btn btn-outline-volunteer" data-backdrop="false" data-toggle="modal" data-target="#modal">+ Add</button>
                    <div class="btn-group-vertical" style="margin-top:10px;" id = "passionWorkButtonGroup">
                        <button v-for="(input) in chosenPassionList" class="modalButton"  type="button">{{input.name}}<span aria-hidden="true" style="float:right;"  @click="deletePassion(input)">&times;</span></button>
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <label class="volunteerLabel" for="position">What are you in a position to volunteer? Add all the skills you can muster.</label>
                    <br>
                    <button type="button" id="positionButton" @click="openPositionList()" class="btn btn-outline-volunteer" data-backdrop="false" data-toggle="modal" data-target="#modal">+ Add</button>
                    <div class="btn-group-vertical" style="margin-top:10px"  v-bind:id="input.ID" id = "positionButtonGroup">
                        <button v-for="(input) in chosenPositionList" class="modalButton"  type="button">{{input.name}}<span aria-hidden="true" style="float:right;"  @click="deletePosition(input)">&times;</span></button>
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <label class="volunteerLabel"  for="activities">Below are some types of regular needs that have emerged, what type of activities are you best suited to support?</label>
                    <button type="button" id="activitiesButton" @click="openActivitiesList()" class="btn btn-outline-volunteer" data-backdrop="false" data-toggle="modal" data-target="#modal">+ Add</button>
                    <div class="btn-group-vertical" style="margin-top:10px" id = "activitiesButtonGroup">
                        <button v-for="(input) in chosenActivitiesList" class="modalButton"  type="button">{{input.name}}<span aria-hidden="true" style="float:right;"  @click="deleteActivities(input)">&times;</span></button>
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-8 col-lg-6">
                <div class="form-group">
                    <input type="number" id="hours" v-model="hours" class="form-control volunteerField" name="hours" >
                    <label for="hours" class="form-control-placeholder">Hours Per Week Available?</label>
                    <p ><small>Your best guess is fine. This is just services as a guideline for us to best connect you with a project!</small></p>
                </div>
            </div> 
        </div>

        <div class = "row">
            <div class="col-md-6 col-lg-4">
                <div class="form-group">
                    <label class="volunteerLabel"  for="contributeSkills">I am interested in contributing my skills to ...</label>
                    <div class="checkbox">
                        <label class="customcheck d-block volunteerLabel"  style=" text-indent:15px;"  >
                            <input type="checkbox" v-model="contributing" id="contributing" value=""><span class="checkmark" style="margin-right:25px;"></span>Contributing</label>
                      </div>
                      <div class="checkbox">
                        <label  class="customcheck d-block volunteerLabel" style=" text-indent:15px;" >
                            <input type="checkbox" v-model="mentoring" id="mentoring" value=""> <span class="checkmark"></span>Mentoring</label>
                      </div>
                      <div class="checkbox ">
                        <label  class="customcheck d-block volunteerLabel" style=" text-indent:15px;" >
                            <input type="checkbox" v-model="remote" id="remote" value="" ><span class="checkmark"></span>Giving a remote talk</label>
                      </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-9 col-lg-7">
                <div class="form-group">
                    <label for="photo" class="volunteerLabel" >Upload a photo. Since we're all remote, let us see your face!</label>
                    <div id="upload_Box" >
                        <!--<button class="btn btn-secondary" id="photoUpload" type="button"  style="border: 2px solid #4300FF; background-color: #F1EBFF; padding:10px;"><i class="fa fa-paperclip" style="color: #4300FF;">
                        </i><strong style="padding:10px; color: #4300FF;;">Attach File</strong></button> 
                        <span style="font-size: 1.25rem; color: #575757;"> or drop here</span>-->
                        <label for="photoUpload" class="custom-file-upload" 
                            style="border: 2px solid #4300FF; background-color: #F1EBFF; padding:10px; border-radius: 0.25rem;">
                            <i class="fa fa-paperclip" style="color: #4300FF;">
                            </i><strong style="padding:10px; color: #4300FF;;">Attach File</strong> 
                        </label> <span class="volunteerLabel" > or drop here</span>
                        <input id="photoUpload" type="file"/>
                        <div id="preview">
                            <div v-if="imgName != null" class="row">
                                <div class="col-md-5">
                                    <button style="margin-left:-10px;" class="modalButtonImage" disabled id="file">{{imgName}}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-7 col-lg-5">
                <div class="form-group">
                    <input type="text" v-model="misc" class="form-control volunteerField" id="misc" rows="3"></input>
                    <label for="misc" class="form-control-placeholder">Anything else we should know?</label>
                    <!--<input type="text" id="hours"  class="form-control" name="hours" >-->
                </div>
            </div> 
        </div>
        <div class = "row">
            <div class="col-md-9 col-lg-7">
                <div class="form-group">
                    <div class= "row">
                        <div class="form-check">
                            
                            <input type="checkbox" hidden class="form-check-input" v-model="pseudoConduct" id="pseudoConduct" value="" required>
                            <label  class="customcheck d-block volunteerLabel form-check-label"  style="text-indent:15px;" >
                                <input type="checkbox" @change="changeConductValue()" id="conduct" value="">
                                <span class="checkmark"></span>
                                I have read the <a href="https://cantstopcolumbus.com/code-of-conduct.html" :class="{ 'is-invalid': submitted && $pseudoConduct.$error }" style="font-style:bold; color:#4300FF">Code of Conduct</a>
                            </label>
                            <div class="invalid-feedback" v-if="submitted && !pseudoConduct.required">
                                Please confirm if you have read the Can't Stop Columbus Code of Conduct 
                                </div>
                          </div>

                    </div>
                </div>
            </div> 
        </div>
        <div class = "row">
            <br />
        </div>
        <div class = "row">
            <div class="col-md-12 text-center align-center">
                 <button class="btn btn-primary dark-purple"  type="submit" id="submitButton">Submit</button>
            </div>
        </div>
      </form>
    <!--<span id="key" style="display:hidden;">{{ site.env.AIRTABLE_KEY }}</span>-->
    <br>
  </div>


  <div class="modal fade "  id="modal" tabindex="-1" #modal role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable volunteerModal"   role="document">
      <div class="modal-content volunteerModal " id="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Choose an Option Below</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body  justify-content-center" id="modalBody">
            <div class="btn-group-vertical justify-content-center"  id = "modalButtonGroup">
                <button v-if="type==='PassionWork' && !chosenPassionList.includes(input)" v-for="(input) in passionList" class="modalButton" type="button" id="input.id" @click="addPassionToChosen(input)" >{{input.name}}</button>
                <button v-if="type==='Position' && !chosenPositionList.includes(input)" v-for="(input) in positionList" class="modalButton" type="button" id="input.id" @click="addPositionToChosen(input)" >{{input.name}}</button>
                <button v-if="type==='Activities' && !chosenActivitiesList.includes(input)" v-for="(input) in activitiesList" class="modalButton" type="button" id="input.id" @click="addActivityToChosen(input)" >{{input.name}}</button>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>

        const app = new Vue({
        el:'#volunteer',
        data:{
            firstName:null,
            lastName:null,
            primEmail:null,
            phone:null,
            work:null,
            other:null,
            city:null,
            state:null,
            linkedin:null,
            twitter:null,
            hours:null,
            misc:null,
            mentoring:null,
            contributing:null,
            remote:null,
            errors:[],
            pseudoConduct:false,
            passionList:[],
            positionList:[],
            activitiesList:[],
            chosenPassionList:[],
            chosenActivitiesList:[],
            chosenPositionList:[],
            newObj: {
                 name: null,
                 id: null
            },
            modalInputs: [],
            type:null,
            imgURL: null,
            imgName: null,
            submitted : false
            
           /* var copyFirstName = document.getElementById("firstName"),
                copyLastName = document.getElementById("lastName"),
                copyPrimEmail = document.getElementById("primEmail"),
                copyPhone = document.getElementById("phone"),
                copyWork = document.getElementById("work"),
                copyOther = document.getElementById("other"),
                copyCity = document.getElementById("city"),
                copyState = document.getElementById("state"),
                copyLinkedIn = document.getElementById("linkedin"),
                copyTwitter = document.getElementById("twitter"),
                copyHours = document.getElementById("hours"),
                copyMisc = document.getElementById("misc"),
                var passionList = []//=['Access to Information', 'Education', 'Elderly & At-Risk Populations', 'Emergency Services', 'Employment', 'Financial Support', 'Food & Hunger', 'General Aid', 'Healthcare \\\ Medical Resources', 'K-12 Education', 'Mental Health', 'Minority, Immigrant & Refugee Resources', 'Mobility', 'Non-Profit Support', 'Small Business', 'Other (describe below)'];
                var positionList = []//=['3D Printing', 'Animation', 'Audio Editing', 'Business Analysis', 'Community Volunteering', 'Copywriting', 'Crafting', 'Data - Product Analytics', 'Data - Synthesis', 'Data - Visualization', 'Data Entry', 'Digitial Strategy', 'DIY', 'E-Commerce', 'Education - K-12', 'Education - Post-Secondary', 'Education - Pre-K', 'Epidemiology', 'Graphic Design', 'Healthcare', 'Hustle', 'Internet Research', 'Language - Spanish', 'Legal', 'Marketing', 'Non-Profit Volunteering', 'Performing Arts/Music', 'Personal /// Professional Network - Government', 'Personal /// Professional Network - Health', 'Personal /// Professional Network - Other', 'Personal /// Professional Network - Students', 'Podcast Production/Hosting', 'Process Engineering', 'Product Management', 'Project Management', 'Real Estate Development', 'Recruiting', 'Social Media', 'Tech - .NET', 'Tech - Android Development', 'Tech - Backend Development', 'Tech - C++', 'Tech - Database', 'Tech - Excel', 'Tech - Flask', 'Tech - Frontend Development', 'Tech - GIS', 'Tech - HTML///CSS', 'Tech - Information Security', 'Tech - Infrastructure', 'Tech - iOS Development', 'Tech - Java', 'Tech - JavaScript', 'Tech - Microcontrollers', 'Tech - Node', 'Tech - Python', 'Tech - QA', 'Tech - R', 'Tech - Rails', 'Tech - React', 'Tech - Redux', 'Tech - Spring Boot', 'Tech - SquareSpace', 'Tech - Swift', 'Tech - TensorFlow', 'Tech - VBA', 'Tech - Vue.js', 'Tech - WordPress Development', 'UI Design', 'UX Design', 'UX Research', 'Video Editing', 'Visual Arts', ];
                var activitiesList = []//=['Research and Data Collection', 'Administration and Documentation', 'Coding and Tech Development', 'Project and/or Product Management', 'Organizing and/or Hosting Virtual Programming', 'Recruiting New Members and Skillsets', 'Ideation and Solution Discovery', 'External Communications (Social Media, PR, Copywriting, etc)', 'Graphic Design', 'Fundraising and Forming Community Partnerships'];


                var chosenPassionList=[];
                var chosenActivitiesList=[];
                var chosenPositionList=[];    
                */
        },
        mounted: function () {
            // `this` points to the vm instance
            console.log('a is: ' + this.a)
            creatingListsMounted();

            this.$ref.fileTag.addEventListener("change", function() {
                        changeImage(this);
            });

            ;['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                        this.$ref.uploadBox.addEventListener(eventName, preventDefaults, false)   
                         document.body.addEventListener(eventName, preventDefaults, false)
            })

                        // Highlight drop area when item is dragged over it
            ;['dragenter', 'dragover'].forEach(eventName => {
                            this.$ref.uploadBox.addEventListener(eventName, highlight, false)
            })

            ;['dragleave', 'drop'].forEach(eventName => {
                            this.$ref.uploadBox.addEventListener(eventName, unhighlight, false)
            })

            this.$ref.uploadBox.addEventListener('drop', handleDrop, false)

            this.$el.querySelectorAll('.volunteerField').forEach( (button) => {
                button.addEventListener('change', (e) => {
                    if (e.target.value.length > 0 && $(this)[0].nodeName=="INPUT")
                        {
                            console.log(e.target.id);
                            var string = "label[for='" +e.target.id + "']";
                            console.log(string);
                            if($(string).length){
                                console.log("Success")
                                $(string)[0].classList.add("stateField")
                            }
                            
                        }
                        //console.log($("label[for='firstName']"));
                       // console.log($("label[for='firstName']")[0].classList);
                       // $("label[for='firstName']")[0].classList.add("stateField")
                    else if(e.target.value.length <= 0){
                        var string = "label[for='" +e.target.id + "']";
                            console.log(string);
                            if($(string).length){
                                console.log("Success")
                                $(string)[0].classList.remove("stateField")
                            }
                    }
                })
            } );

        },
        watch:{

        } ,
        methods: {
                checkForm: function (e) {
                    this.submitted = true;
                    this.errors = [];

                    if (!this.firstName) {
                        this.errors.push("First Name required.");
                    }
                    if (!this.lastName) {
                        this.errors.push("Last Name required.");
                    }            
                    if (!this.primEmail) {
                        this.errors.push('Email required.');
                    } else if (!this.validEmail(this.primEmail)) {
                        this.errors.push('Valid email required.');
                    }
                    if (!this.pseudoConduct) {
                        this.errors.push("Conduct Agremment required.");
                    }
                    if (!this.errors.length) {
                                var interested=[];
                                console.log(copyMentoring);
                                if(this.mentoring){
                                    console.log("MENTORING");
                                    interested.push("Mentoring")
                                }

                                if(this.contributing){
                                    interested.push("Contributing")
                                }

                                if(this.remote){
                                    interested.push("Giving a remote talk")
                                }
                                axios.post(`https://wduc7ys73l.execute-api.us-east-1.amazonaws.com/dev/volunteers`, {
                                    body: JSON.stringify({
                                            /*"Business":copyName.value,
                                            "Promo":copyText.value,
                                            "Website": copySite.value*/
                                            "First Name": this.firstName,
                                            "Last Name": this.lastName,
                                            "Primary Email": this.primEmail,
                                            "Phone": this.phone,
                                            "Website 1": this.work,
                                            "Website 2": this.other,
                                            "City": this.city,
                                            "State": this.state,
                                            "LinkedIn": this.linkedin,
                                            "Twitter": this.twitter,
                                            "Available hours/week": this.hours,
                                            "Talent notes": this.misc,
                                            "Skills": this.chosenPositionList,
                                            "Passions": this.chosenPassionList,
                                            "Activities": this.chosenActivitiesList,
                                            "Photo Upload": [
                                                {
                                                "url": this.imgURL
                                                }
                                            ],
                                            "I am interested in contributing my skills to ...": interested,
                                            "COC Affirmation": true,
                                            })
                                    })
                                .then(response => {
                                    if(response.status == '200')
                                    {
                                        e.target.classList.add('was-validated');
                                        window.location.pathname = '/volunteer-success.html';
                                        return true;
                                    }
                                })
                                .catch(e => {
                                     this.errors.push(e)
                                     e.stopPropagation()
                                    })

                                //
                            }
                            else {
                                e.preventDefault();
                            }
                            e.target.classList.add('was-validated');
                    }
            },
            changeConductValue: function(event){
                this.$ref.pseudoConduct.checked = event.target.checked
            },
            urlValidate: function(event){
                var string = $(this).val();
                    if (!string.match(/^https?:/) && string.length) {
                        string = "http://" + string;
                        $(this).val(string)
                    }
            },
            validEmail: function (email) {
                var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
            },
            creatingListsMounted: function(){
                axios.get('https://wduc7ys73l.execute-api.us-east-1.amazonaws.com/dev/skills').then(response => {
                    for (var item in response.data) {
                        this.positionList.push(this.objItem(item["Skill"], item["id"]));
                    }
                 });

                 axios.get('https://wduc7ys73l.execute-api.us-east-1.amazonaws.com/dev/categories').then(response => {
                    for (var item in response.data) {
                        this.passionList.push(this.objItem(item["Skill"], item["id"]));
                    }
                 });

                 axios.get('https://wduc7ys73l.execute-api.us-east-1.amazonaws.com/dev/activities').then(response => {
                    for (var item in response.data) {
                        this.activitiesList.push(this.objItem(item["Skill"], item["id"]));
                    }
                 });
            },
            clearChildren: function() { 
                //this.$refs.modalButtonGroup.empty();
                this.type=null;
            }, 
            highlight: function(e) {
                this.$refs.uploadBox.classList.add('highlightBox')
             },
            unhighlight: function(e) {
                this.$refs.unloadBox.classList.remove('highlightBox')
            },
            preventDefaults: function(e) {
                e.preventDefault()
                e.stopPropagation()
            },
            handleDrop: function (e) {
                var dt = e.dataTransfer
                                //var files = dt.files

                changeImage(e.dataTransfer);
                            //handleFiles(files)
            },
            
             openPassionList: function() {
                
               /* passionList.forEach(function (passionWork, index) {
                    if(!this.chosenPassionList.includes(passionWork.id))
                    {
                        var text = "<button class=\"modalButton\" type=\"button\" id=\"" + passionWork.name + "\" @click=\"addPassionToChosen(" + passionWork + ")\" >"  + passionWork.name + "</button>"
                        this.modalInputs.push(text);
                        //this.$refs.modalButtonGroup.append(text);
                    }
                });*/
                this.type='Passion';
            },
            addPassionToChosen: function(passion){
                console.log("HI");
                console.log(passion);
                this.chosenPassionList.push(passion);
              //  var newButton = "<button class=\"modalButton\"  type=\"button\" id=\"chosen" + passion.replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_')  + "\" >"  + passion + "<span aria-hidden=\"true\" style=\"float:right;\" onclick=\"deletePassion('" + passion + "', '" + id + "')\">&times;</span></button>"
              //  this.$refs.passionWorkButtonGroup.append(newButton);
                this.$refs.modal.modal("hide");
                clearChildren();
            },
            deletePassion: function(passion){
                console.log("FUNCTION CLICKED");
                console.log(passion);
                if (this.chosenPassionList.indexOf(passion) > -1) {
                    this.chosenPassionList.splice(this.chosenPassionList.indexOf(position), 1);
                }
                
               // var removeText = "chosen"+passion.toString().replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_');
               // console.log(removeText);
               // this.$refs.passionWorkButtonGroup.removeChild(this.$refs.removeText);
                //var child = document.getElementById(removeText)
                //
            },
            openPositionList: function() {
                
                this.type='Position';
                /*positionList.forEach(function (position, index) {
                    if(!this.chosenPositionList.includes(position.id)){
                        console.log(position)
                        var text = "<button class=\"modalButton\" type=\"button\" id=\"" + position.name + "\" @click=\"addPositionToChosen(" + position + ")\" >"  + position.name + "</button>"
                        this.modalInputs.push(text);
                        //this.$refs.modalButtonGroup.append(text);
                    }

                });*/
            },
            addPositionToChosen: function(position){
                console.log("Pushing " + position);
                this.chosenPositionList.push(position);
                console.log(position)
                //var newButton = "<button class=\"modalButton\"  type=\"button\" id=\"chosen" + position.replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_')  + "\" >"  + position + "<span aria-hidden=\"true\" style=\"float:right;\" onclick=\"deletePosition('" + position + "', '" + id + "')\">&times;</span></button>"
                //this.$refs.positionButtonGroup.append(newButton);
                this.$refs.modal.modal("hide");
                clearChildren();
            },

            deletePosition: function(position){
                console.log("DELETING POSITION" + this.position)
                console.log(chosenPositionList);
                console.log(index);
                if (this.chosenPositionList.indexOf(position) > -1) {
                    this.chosenPositionList.splice(this.chosenPositionList.indexOf(position), 1);
                }
                
               // var removeText = "chosen" + position.toString().replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_');
                //console
               // console.log(removeText);
                //var child = document.getElementById(removeText);
                //console.log(child);
              //  document.getElementById("positionButtonGroup").removeChild(child);
            },

            openActivitiesList: function() {
                this.type="Activities"
               /* activitiesList.forEach(function (activity, index) {
                    if(!chosenActivitiesList.includes(activity.id))
                    {
                        var text = "<button class=\"modalButton\" type=\"button\" id=\"" + activity.name + "\" @click=\"addActivityToChosen('" + activity.name + "', '" + activity.id + "')\" >"  + activity.name + "</button>"
                        this.modalInputs.push(text);
                        //$("#modalButtonGroup").append(text)
                    }
                });*/
            },

            addActivityToChosen: function(activity){
                chosenActivitiesList.push(activity);
               /*var newButton = '<button class="modalButton" type="button" id="chosen"' 
                                + activity.replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_')  + '" >"'
                                + activity + "<span aria-hidden=\"true\" style=\"float:right;\" onclick=\"deleteActivity('" + activity + "')\">&times;</span></button>"
                //var newButton = "<button class=\"modalButton\"  type=\"button\" id=\"chosen" */
                //$("#activitiesButtonGroup").append(newButton);
                this.$refs.modal.modal("hide");
                clearChildren();
            },

            deleteActivity: function(activity){
                console.log("DELETING ACTIVITY");
                console.log(activity);
                if (this.chosenActivitiesList.indexOf(activity) > -1) {
                    this.chosenActivitiesList.splice(this.chosenActivitiesList.indexOf(activity), 1);
                }
                
             //   var removeText = "chosen" + activity.toString().replace(/\s/g, "").replace(/[&\/\\#, +()$~%.'":*?<>{}]/g, '_');
             //   var child = document.getElementById(removeText)
             //   document.getElementById("activitiesButtonGroup").removeChild(child);
            },
            changeImage: function(input) {
                const reader = new FileReader();
                const file = input.files[0];
                const reader = new FileReader();

                reader.onload  = (event) => {
                    //this.product.image = event.target.result
                    this.imgName = event.target.result.name
                    this.imgURL = getDataUrl(event.target.result)
                }
                reader.readAsDataURL(file);
               // imgURL = file.src;
                

                /*reader.onload =  function(e) {
                                 // console.log(e.target.result);
                    
                    img.src = e.target.result
                    img.url = e.target.result
                    console.log(img.url);
                    console.log(input.files[0].url)
                                
                                //.setAttribute('src', e.target.result);

                                /*let img = new Image()
                                img.src = e.target.result
                                img.onload = () => {
                                    console.log(img.height);
                                    
                                    console.log(parseInt(document.getElementById("upload_Box").style.height));
                                    console.log((img.height - parseInt(document.getElementById("upload_Box").style.height)));
                                    console.log(parseInt(document.getElementById("upload_Box").style.height) + (img.height - parseInt(document.getElementById("upload_Box").style.height)));
                                    //console.log(parseInt(document.getElementById("upload_Box").style.width) + (img.width - parseInt(document.getElementById("upload_Box").style.width)));
                                    let newHeight = parseInt(document.getElementById("upload_Box").style.height) + (img.height - parseInt(document.getElementById("upload_Box").style.height) + 100)
                                    let newWidth = parseInt(document.getElementById("upload_Box").style.width) + (img.width - parseInt(document.getElementById("upload_Box").style.width) + 150)
                                    document.getElementById("upload_Box").style.height = newHeight.toString() + "px";
                                    document.getElementById("upload_Box").style.width = newWidth.toString() + "px";
                                }
                                  

                                
                
                               // console.log(input.files[0].height);
                                 // console.log(document.getElementById("upload_Box").style.height);
                               // document.getElementById("upload_Box").style.height = document.getElementById("upload_Box").style.height + input.files[0].height;
                                
            }*/
        },

        getDataUrl:function (img) {
            var canvas = document.createElement('canvas')
            var ctx = canvas.getContext('2d')

            canvas.width = img.width
            canvas.height = img.height
            ctx.drawImage(img, 0, 0)

            // If the image is not png, the format
            // must be specified here
            return canvas.toDataURL("image/jpg");
        }
          
        
        })

      


      //forimage






    
</script>

<style>

.modal-body{
    margin-left: auto;
    margin-right: auto;
}

.scrollable-menu {
    height: auto;
    max-height: 600px;
    overflow-x: hidden;
}

.modalButton{
    position: relative;
    border-style: solid;
    border-width: 2px;
    border-color: #4300FF;
    background-color: white;
    border-radius: 6px;
    text-align:left;
    margin: 5px;
}

.modalButtonImage{
    position: relative;
    border-style: solid;
    border-width: 2px;
    border-color: #4300FF;
    background-color: white;
    border-radius: 6px;
    text-align:left;
    margin: 5px;
}


.btn-outline-volunteer{
    color: #4300FF;
    background-color: transparent;
    background-image: none;
    border-color: #4300FF;
}

#upload_Box.highlightBox {
  border:5px dashed #4300FF!important;
}



input[type="file"] {
    display: none;
}
.custom-file-upload {
    border: 1px solid #ccc;
    display: inline-block;
    padding: 6px 12px;
    cursor: pointer;
}
    .form-group {
  position: relative;
  margin-bottom: 1.5rem;
}

.form-control-placeholder {
  position: absolute;
  top: 0;
  font-size:1.1rem;
  padding: 10px 0 0 13px;
  transition: all 200ms;
  opacity: 0.5;
}

.volunteerField:focus + .form-control-placeholder,
.stateField {
  font-size: 90%;
  transform: translate3d(0, -100%, 0);
  opacity: 1;
}

/* The customcheck */
.customcheck {
    position: relative;
    padding-left: 35px;
    margin-bottom: 12px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    margin-left:10px;
}

/* Hide the browser's default checkbox */
.customcheck input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
}

/* Create a custom checkbox */
.checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 25px;
    width: 25px;
    background-color: #eee;
    border-radius: 5px;
    border: 2px solid #a9a9a9;
    margin-left:10px;
}

/* On mouse-over, add a grey background color */
.customcheck:hover input ~ .checkmark {
    background-color: #ccc;
}

/* When the checkbox is checked, add a blue background */
.customcheck input:checked ~ .checkmark {
    background-color: #4300FF;
    border-radius: 5px;
}

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}

/* Show the checkmark when checked */
.customcheck input:checked ~ .checkmark:after {
    display: block;
}

/* Style the checkmark/indicator */
.customcheck .checkmark:after {
    left: 9px;
    top: 5px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}


</style>